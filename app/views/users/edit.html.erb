<!-- app/views/users/edit.html.erb -->

<h1 class="mb-4">Edit My Information</h1>

<%= form_with(model: @user, url: user_path(@user), method: :patch, local: true) do |f| %>
  <% if @user.errors.any? %>
    <div class="alert alert-danger">
      <ul class="mb-0">
        <% @user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group mb-3">
    <%= f.label :email, class: "form-label" %>
    <%= f.email_field :email, class: "form-control", id: "user_email"%>
  </div>

  <div class="form-group mb-3">
    <%= f.label :name, class: "form-label" %>
    <%= f.text_field :name, class: "form-control", id: "user_name" %>
  </div>

  <div class="form-group mb-3">
    <%= f.label :username, class: "form-label" %>
    <%= f.text_field :username, class: "form-control", id: "user_username" %>
  </div>

  <div class="form-group mb-3">
    <%= f.label :password, class: "form-label" %>
    <%= f.password_field :password, class: "form-control", id: "user_password", placeholder: "Enter new password (leave blank to keep current password)" %>
    <small class="form-text text-muted">Leave blank if you don't want to change your password</small>
  </div>

  <div class="form-group mb-3">
    <%= f.label :password_confirmation, "Confirm Password", class: "form-label" %>
    <%= f.password_field :password_confirmation, class: "form-control", id: "user_password_confirmation",placeholder: "Confirm new password" %>
  </div>

  <div class="form-actions mt-4">
    <%= f.submit "Save changes", class: "btn btn-success" %>
    <%= link_to "Cancel", user_profile_path(@user), class: "btn btn-secondary ml-2" %>
  </div>
<% end %>
