<h1>My Groups</h1>

<%= link_to "Create New Group", new_group_path, class: "btn btn-primary mb-4" %>

<div class="groups-list">
  <div class="row">
    <div class="col-md-6">
      <h2>Groups I Created</h2>
      <% if @groups_created.any? %>
        <% @groups_created.each do |group| %>
          <div class="card mb-3 group" data-group="<%= group.id %>">
            <div class="card-body">
              <h5 class="card-title"><%= link_to group.name, group_path(group) %></h5>
              <p class="card-text"><%= group.description %></p>
              <p class="text-muted">Members: <%= group.members.count + 1 %></p>
              <%= link_to "View Group", group_path(group), class: "btn btn-sm btn-primary" %>
              <%= link_to "Messages", group_conversation_path(group), class: "btn btn-sm btn-info" %>
            </div>
          </div>
        <% end %>
      <% else %>
        <p class="text-muted">You haven't created any groups yet.</p>
      <% end %>
    </div>
    
    <div class="col-md-6">
      <h2>Groups I'm In</h2>
      <% if @groups.any? %>
        <% @groups.each do |group| %>
          <div class="card mb-3 group" data-group="<%= group.id %>">
            <div class="card-body">
              <h5 class="card-title"><%= link_to group.name, group_path(group) %></h5>
              <p class="card-text"><%= group.description %></p>
              <p class="text-muted">Created by: <%= group.creator.username %></p>
              <p class="text-muted">Members: <%= group.members.count + 1 %></p>
              <%= link_to "View Group", group_path(group), class: "btn btn-sm btn-primary" %>
              <%= link_to "Messages", group_conversation_path(group), class: "btn btn-sm btn-info" %>
            </div>
          </div>
        <% end %>
      <% else %>
        <p class="text-muted">You're not a member of any groups yet.</p>
      <% end %>
    </div>
  </div>
</div>

